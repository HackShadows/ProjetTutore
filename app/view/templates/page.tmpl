<!doctype html>

{% import "nav.tmpl" as nav_tmpl %}

<html lang="fr">
<head>
	{% block head %}
	<title>GeoPuzzle</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/style.css">
	
	{% block css %}{% endblock %}
	{% endblock %}
</head>

<body>
	<div class="d-flex flex-column min-vh-100">
		<header>
			{% block header %}
			<div class="d-flex align-items-center justify-content-start m-1 p-2 bg-primary">
                <div class="user-icon me-3" style="width: 40px; height: 40px; position: relative;">
                    <svg width="100%" height="100%" viewBox="0 0 24 24" fill="white">
                        <a href="/connexion">
                            <circle cx="12" cy="12" r="10" opacity="0.2"/>
                            <path d="M5 21C5 17.134 8.13401 14 12 14C15.866 14 19 17.134 19 21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z"/>
                        </a>
                    </svg>
                    <div class="position-absolute top-50 start-50 translate-middle small">
                        <span class="text-center">{{ user_name if user_name else "" }}</span>
                    </div>
                </div>
                <h2 class="mb-0">Header</h2>
            </div>
			{% endblock %}
			{#
			{% block header %}
			<div class="d-flex align-items-center justify-content-start m-1 p-2 bg-primary text-white">
				<div class="user-icon me-3" style="width: 50px; height: 50px; position: relative;">
					<a href="/connexion">
						{% if user_profile_url %}
							<img src="{{ user_profile_url }}" alt="Profil" class="rounded-circle border border-white" style="width: 100%; height: 100%; object-fit: cover;">
						{% else %}
							<svg width="100%" height="100%" viewBox="0 0 24 24" fill="white">
								<circle cx="12" cy="12" r="10" opacity="0.2"/>
								<path d="M5 21C5 17.134 8.13401 14 12 14C15.866 14 19 17.134 19 21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z"/>
							</svg>
						{% endif %}
					</a>
				</div>
				<div>
					<h2 class="h5 mb-0">{{ user_name if user_name else "Invité" }}</h2>
				</div>
			</div>
			{% endblock %}
			#}
		</header>

		<div class="d-flex flex-row flex-grow-1">
            <nav class="bg-light border-end">
				{% set nav_items = [
					{"target": "/", "text": "Accueil"},
					{"target": "/map", "text": "Carte des puzzles"},
					{"target": "/personal-puzzles", "text": "Mes puzzles"},
					{"target": "/play", "text": "Jouer"}
				] %}
				{% block nav %}
				{{ nav_tmpl.nav(items = nav_items, current = 0) }}
				{% endblock %}
			</nav>

			<main class="container py-5">
				{% block main %}
				{% endblock %}
			</main>
		</div>

		<footer class="mt-auto">
            {% block footer %}
            <div class="d-flex flex-row align-items-center justify-content-between m-1 p-3 bg-secondary">
                <p class="mb-0 small">
                    Boullot Matthias<br>
                    Cauchy Timothée<br>
                    Ciserane Marius<br>
                    Ho-Huu-Campanelli Francesco<br>
                    Laporte Valentin
                </p>
                <h3 class="h5 mb-0">Footer</h3>
            </div>
            {% endblock %}
        </footer>
	</div>

	<script src="/static/js/bootstrap.bundle.min.js"></script>

	{% block js %}{% endblock %}
</body>
</html>
